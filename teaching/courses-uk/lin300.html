<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.9.9">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-04-15">

<title>Lin 300 - Speech Sounds – Kevin B. McGowan</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-5d254f1e278c2921d96b26102a150bb1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-82934952497c43803fad7afc138b65cd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="manifest" href="../../site.webmanifest">


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Kevin B. McGowan</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research/index.html"> 
<span class="menu-text">research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching/index.html"> 
<span class="menu-text">teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../stuff/index.html"> 
<span class="menu-text">stuff</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../cv/index.html"> 
<span class="menu-text">cv</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Lin 300 - Speech Sounds</h1>
  <div class="quarto-categories">
    <div class="quarto-category">teaching phonetics phonology</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 15, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>This course provides students with the practical skills and the theoretical frameworks needed to pursue more advanced study in phonetics and phonology. You will learn how linguists study production, perception, and the mental representations of speech sounds. You will also learn how linguists develop theoretical models to understand how these speech sounds are organized in phonological grammars. The concepts learned in LIN 300 will provide a solid foundation for Linguistics and will allow the student to enroll in a variety of courses at the 500- and 600-level in Linguistics.</p>
<section id="course-prerequisites" class="level2">
<h2 class="anchored" data-anchor-id="course-prerequisites">Course Prerequisites</h2>
<p>Lin 221, Introduction to Linguistics (or equivalent) is required.</p>
</section>
<section id="required-materials" class="level2">
<h2 class="anchored" data-anchor-id="required-materials">Required Materials</h2>
<ul>
<li>Textbook Zsiga, Elizabeth C. (2013) The Sounds of Language, Wiley-Blackwell ISBN: 978-1-4051-9103-6 You could also get the new edition of this book: it is available at the campus bookstore and either edition will work fine.</li>
<li>Praat http://praat.org/ Free &amp; Open Source, available for all major platforms and Windows</li>
</ul>
</section>
<section id="activities-outside-of-regular-class-meetings" class="level2">
<h2 class="anchored" data-anchor-id="activities-outside-of-regular-class-meetings">Activities Outside of Regular Class Meetings</h2>
<section id="individual-meetings" class="level4">
<h4 class="anchored" data-anchor-id="individual-meetings">Individual Meetings</h4>
<p>If you have something to discuss that you would prefer to do in my office, please write to me on canvas or <a href="https://appt.link/meet-with-kevin-mcgowan-8HaU92A1">make an appointment</a>.</p>
</section>
<section id="lab-hours" class="level4">
<h4 class="anchored" data-anchor-id="lab-hours">Lab Hours</h4>
<p>I will hold regular lab hours every Wednesday in the Kentucky Phonetics Lab (Miller Hall 007b). It’s in the basement, across from the Linguistic Atlas Project, and you get there by walking <em>through</em> the Geography Lab (see map). Come with questions, come to work on a problem set, come to play with the lab equipment (see your tongue in an ultrasound, try out an experiment, etc.), or just to say “hi!”</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="FindTheLab.png" class="img-fluid figure-img"></p>
<figcaption>Find the Lab</figcaption>
</figure>
</div>
</section>
</section>
<section id="student-learning-outcomes" class="level2">
<h2 class="anchored" data-anchor-id="student-learning-outcomes">Student Learning Outcomes</h2>
<p>In this course, students will:</p>
<ol type="1">
<li>Discover the fundamental questions of the fields of phonetics and phonology through engagement with original and curated language data.</li>
<li>Use basic terminology in linguistics, phonetics, and phonology.</li>
<li>Learn to read, understand, and use the International Phonetic Alphabet for linguistic analysis.</li>
<li>Analyze data from a variety of languages to identify regularities and patterns in the structure of speech sounds and sound systems.</li>
<li>Apply the scientific method to problems within phonetics and phonology, and formulate rules and hypotheses to explain the structure of speech sounds.</li>
</ol>
</section>
<section id="course-requirements" class="level2">
<h2 class="anchored" data-anchor-id="course-requirements">Course Requirements</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Assignment</th>
<th>Weight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>✓ Reading Quizzes (x 10)</td>
<td>25%</td>
</tr>
<tr class="even">
<td>✓ Language Puzzles (x 5)</td>
<td>25%</td>
</tr>
<tr class="odd">
<td>✓ Participation</td>
<td>10%</td>
</tr>
<tr class="even">
<td>✓ IPA Practice</td>
<td>10%</td>
</tr>
<tr class="odd">
<td>✓ Midterm</td>
<td>15%</td>
</tr>
<tr class="even">
<td>✓ Final</td>
<td>15%</td>
</tr>
</tbody>
</table>
<section id="reading-quizzes" class="level4">
<h4 class="anchored" data-anchor-id="reading-quizzes">✓ Reading Quizzes</h4>
<ul>
<li><p>For each reading there will be a brief set of questions on canva for you to find the answers to. These are designed to highlight key concepts and to ensure that you do not fall behind.</p></li>
<li><p>You will receive one checkmark for each completed reading quiz. You must complete 10 (of 15) to obtain the full 25% toward your final grade.</p></li>
<li><p><strong>Important</strong>: reading quizzes can not be completed after the class period for which they are due (see due dates on the tentative schedule below). #### ✓ Language Puzzles</p></li>
<li><p>For each language puzzle you will receive curated speech sound data (in the form of IPA transcriptions or audio recordings) and a set of exploratory questions about those data.</p></li>
<li><p>Your task is to apply theoretical knowledge and practical skills from our readings and class discussions to interpret and understand the data.</p></li>
<li><p>Complete all five (5) language puzzles to obtain the full 25% toward your final grade. Successful completion of each puzzle unlocks the next one. #### ✓ Participation Participation is assessed every 4 class meetings based on my notes. You are invited to meet with me about an assessment you feel is unfair. Final participation grade is the mode (not mean or median) of biweekly assessments and will be used to calculate this 10% of your final grade.</p></li>
<li><p><strong>5 points</strong> : Student comes to class prepared; contributes readily to the conversation; shows an interest in and respect for others’ contributions; participates actively in all groups</p></li>
<li><p><strong>4 points</strong> : Student comes to class prepared; contributes only occasionally to the conversation; or participates minimally in groups</p></li>
<li><p><strong>3 points</strong> : Student comes to class but preparation is not clear; only minimally contributes to the conversation or is distracted (e.g.&nbsp;on phone, browsing the web, etc.); does not engage with others’ contributions; or listens but does not contribute to group work</p></li>
<li><p><strong>2 points</strong> : Student has been habitually late, occasionally absent (unexcused, see below) or unprepared for class; does not contribute to the conversation unless called on; is occasionally disrespectful of others’ contributions; or is disengaged from group work (e.g.&nbsp;on phone, browsing the web, etc.)</p></li>
<li><p><strong>1 point</strong> : Student frequently does not attend class (unexcused, see below); habitually avoids answering questions or contributing to the conversation; rejects participation in groups; or brings an aardvark to class.</p></li>
<li><h4 id="ipa-practice" class="anchored">✓ IPA Practice</h4></li>
<li><p>There will be 8 transcription practice modules on Canvas for you to unlock by listening and practicing</p></li>
<li><p>Transcription: there are ~10 individual transcription items (words or syllables) per module. You can obtain the full 10% toward your final grade by completing all 80 items successfully.</p></li>
</ul>
</section>
<section id="midterm-final" class="level4">
<h4 class="anchored" data-anchor-id="midterm-final">✓ Midterm &amp; Final</h4>
<ul>
<li>This course includes two opportunities to demonstrate what you have learned at the mid-point and end of the semester.</li>
<li>In each exam you will be presented with original language data and you will be asked to find patterns in these data.</li>
</ul>
</section>
</section>
<section id="grading-practices" class="level2">
<h2 class="anchored" data-anchor-id="grading-practices">Grading Practices</h2>
<p>The grading scale for the final course grade will be as follows. Note: it is also possible to receive an Incomplete (I) as a placeholder grade if difficult, unavoidable circumstances arise during the semester that make it impossible for you to complete the course requirements before grades are due (but this has to be discussed with me in advance!).</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Final Percentage</th>
<th>Letter Grade</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>90–100%</td>
<td>A</td>
</tr>
<tr class="even">
<td>80–89%</td>
<td>B</td>
</tr>
<tr class="odd">
<td>70–79%</td>
<td>C</td>
</tr>
<tr class="even">
<td>60 – 69%</td>
<td>D</td>
</tr>
<tr class="odd">
<td>Below 60%</td>
<td>E</td>
</tr>
</tbody>
</table>
</section>
<section id="midterm-grades" class="level2">
<h2 class="anchored" data-anchor-id="midterm-grades">Midterm Grades</h2>
<p>For undergraduates, midterm grades will be posted in myUK by the deadline published in the <a href="https://registrar.uky.edu/academic-calendars/university">Academic Calendar</a>.</p>
<p>![[Course Outline]]</p>
</section>
<section id="attendance-philosophy" class="level2">
<h2 class="anchored" data-anchor-id="attendance-philosophy">Attendance Philosophy</h2>
<p>This course is an event you have agreed to participate in. The event unfolds over 31 semi-weekly course meetings and one final exam. I have planned a sequence of readings, lectures, in-class activities, discussions, assessments, and exams that are all part of this experience. Most importantly, you are a crucial part of this course. Your energy, attention, questions, answers, and growth are an essential part of every moment of this class. At an absolute bare minimum, that means you need to be physically in the room, prepared, awake, and ready to learn for as much of our 31 course meetings as you can. You can not cram the experience of this event into your brain in the last few weeks and I will not be inventing extra credit to accommodate your unwillingness to participate in the class as designed.</p>
<section id="excused-absences" class="level3">
<h3 class="anchored" data-anchor-id="excused-absences">Excused Absences</h3>
<p><a href="https://provost.uky.edu/proposals/guidance-course-proposals/standard-academic-policy-statements">AR-ASA 5.2.5</a> defines the following excused absences (see link for full text):</p>
<ol type="1">
<li>Mental or Physical illness of the student or a member of the student’s household or immediate family.</li>
<li>Death of a member of the student’s household or immediate family.</li>
<li>University-sponsored trips (e.g.&nbsp;athletics, conference)</li>
<li>Major religious holiday</li>
<li>Interviews: for a full time job, graduate or professional school</li>
</ol>
<p>I do not need verification for a day here or there. Please just let me know, ideally in advance, when you’re going to be absent. If your participation grades tend to be good then my assumption will be that your excused absence is real and responsible and that you have made a good faith effort to be here. If, on the other hand, absences become routine and particularly if you risk</p>
</section>
<section id="unexcused-absences" class="level3">
<h3 class="anchored" data-anchor-id="unexcused-absences">Unexcused Absences</h3>
<p>The following types of absences are not excused:</p>
<ol type="1">
<li>Routine dental cleanings, medical check-ups, haircuts, or massages. Please schedule these at times you are available.</li>
<li>Family vacations. They are not excused, particularly during Finals.</li>
<li>Sleeping through or otherwise forgetting about class (but note that mental health <em>is</em> a valid reason to miss class. Please just talk to me.)</li>
</ol>
</section>
</section>
<section id="academic-offenses-cheating-plagiarism-and-falsification-or-misuse-of-academic-records" class="level2">
<h2 class="anchored" data-anchor-id="academic-offenses-cheating-plagiarism-and-falsification-or-misuse-of-academic-records">Academic Offenses (Cheating, Plagiarism, and Falsification or Misuse of Academic Records)</h2>
<ul>
<li><p>UK policies on academic offenses are available at <a href="https://provost.uky.edu/proposals/guidance-course-proposals/academic-offenses">https://provost.uky.edu/proposals/guidance-course-proposals/academic-offenses</a></p></li>
<li><p>For a thorough description of “plagiarism,” see <a href="https://ombud.uky.edu/students/what-plagiarism">https://ombud.uky.edu/students/what-plagiarism</a></p></li>
<li><p>For a thorough description of “cheating,” see <a href="https://ombud.uky.edu/students/what-cheating">https://ombud.uky.edu/students/what-cheating</a></p></li>
</ul>
</section>
<section id="resources" class="level2">
<h2 class="anchored" data-anchor-id="resources">Resources</h2>
<p>The university offers a variety of resources available to students. Visti the <a href="https://studentsuccess.uky.edu/get-help">Office of Student Success</a> to access the full list.</p>
</section>
<section id="classroom-emergency-preparedness-and-response" class="level2">
<h2 class="anchored" data-anchor-id="classroom-emergency-preparedness-and-response">Classroom Emergency Preparedness and Response</h2>
<p>Please see the following link for information related to emergency reporting and action: <a href="https://provost.uky.edu/curriculumproposals/syllabus-information">https://provost.uky.edu/curriculumproposals/syllabus-information</a></p>
</section>
<section id="course-copyright" class="level2">
<h2 class="anchored" data-anchor-id="course-copyright">Course Copyright</h2>
<p>All original instructor-provided content for this course, which may include handouts, assignments, and lectures, is the intellectual property of the instructor(s). Students enrolled in the course this academic term may use the original instructor-provided content for their learning and completion of course requirements this term, but such content must not be reproduced or sold. Students enrolled in the course this academic term are hereby granted permission to use original instructor-provided content for reasonable educational and professional purposes extending beyond this course and term, such as retaining for your own personal use, studying for a comprehensive or qualifying examination in a degree program, preparing for a professional or certification examination, or to assist in fulfilling responsibilities at a job or internship; other uses of original instructor-provided content require written permission from the instructor(s) in advance.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/vowel\.space");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>