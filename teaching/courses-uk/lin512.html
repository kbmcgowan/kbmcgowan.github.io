<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.9.9">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2022-03-17">

<title>Lin 512 - Introduction to Syntactic Theory – Kevin B. McGowan</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-5d254f1e278c2921d96b26102a150bb1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-82934952497c43803fad7afc138b65cd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="manifest" href="../../site.webmanifest">


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Kevin B. McGowan</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research/index.html"> 
<span class="menu-text">research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching/index.html"> 
<span class="menu-text">teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../stuff/index.html"> 
<span class="menu-text">stuff</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../cv/index.html"> 
<span class="menu-text">cv</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Lin 512 - Introduction to Syntactic Theory</h1>
  <div class="quarto-categories">
    <div class="quarto-category">teaching syntax</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 17, 2022</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>This course provides students with the practical skills and the theoretical frameworks needed to understand current research in syntax. You will learn how linguists study the structure of sentences in the languages of the world, including English. You will learn how linguists develop theoretical models to understand the human capacity for language and be introduced to some of these models. You will learn to conduct data analysis, how to evaluate formal hypotheses, and how to provide support for and against these hypotheses.</p>
<section id="prerequisite" class="level2">
<h2 class="anchored" data-anchor-id="prerequisite">Prerequisite</h2>
<p>Lin 221 or permission of the instructor Student Learning Outcomes</p>
</section>
<section id="in-this-course-students-will" class="level2">
<h2 class="anchored" data-anchor-id="in-this-course-students-will">In this course, students will:</h2>
<ul>
<li>Discover the fundamental questions of the fields of syntax through analysis of original and curated language data.</li>
<li>Understand and use basic terminology in linguistics and syntax.</li>
<li>Analyze data from a variety of languages to identify regularities and patterns in the structure of sentences.</li>
<li>Apply the scientific method to problems within syntax and formulate rules and hypotheses to explain the structure of those sentences.</li>
</ul>
</section>
<section id="attendance" class="level2">
<h2 class="anchored" data-anchor-id="attendance">Attendance</h2>
<p>To get the most out of this class you have to be prepared for it and then you have to be present for it. Therefore, I expect you to come to class prepared if health allows. Notice that I am presenting the class simultaneously in person and on zoom so being “present” can be:</p>
<ol type="1">
<li><p>in person in real time if you are healthy and masked</p></li>
<li><p>via zoom if you are sick, have been exposed to covid, or wish not to wear a mask or</p></li>
<li><p>sychronously (all course sessions will be captured and available under the Zoom tab).</p></li>
</ol>
<p>I will notice if you’re not here and I will ask you about it, but I’m not grading you on sitting in a chair and you don’t need a note from anyone if you miss. Attendance is not a direct part of your grade, but the only people who have ever failed my classes at Kentucky are when they didn’t come.</p>
</section>
<section id="what-it-means-to-be-prepared-for-class" class="level2">
<h2 class="anchored" data-anchor-id="what-it-means-to-be-prepared-for-class">What it means to be prepared for class</h2>
<p>Discussions will parallel the readings but will, by design, not cover exactly the same material. You are responsible for all material covered in readings and in class. Regular, alert, engaged class attendance with active listening and participation are essential for mastery of the material and will absolutely be reflected by your overall mastery of the material and therefore course grade. Slides, when used, will be made available online, but serve only to support the discussion we’ll have together. Our discussions, in a very real sense, are the course and the more you participate the richer our course will be.</p>
</section>
<section id="grading-practices-undergraduate" class="level2">
<h2 class="anchored" data-anchor-id="grading-practices-undergraduate">Grading Practices : Undergraduate</h2>
<p>The grading scale for the final course grade will be as follows. Note: it is also possible to receive an Incomplete (I) as a placeholder grade if difficult, unavoidable circumstances arise during the semester that make it impossible for you to complete the course requirements before grades are due (but this has to be discussed with me in advance!).</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Final Percentage</th>
<th>Letter Grade</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>90–100%</td>
<td>A</td>
</tr>
<tr class="even">
<td>80–89%</td>
<td>B</td>
</tr>
<tr class="odd">
<td>70–79%</td>
<td>C</td>
</tr>
<tr class="even">
<td>60 – 69%</td>
<td>D</td>
</tr>
<tr class="odd">
<td>Below 60%</td>
<td>E</td>
</tr>
</tbody>
</table>
<section id="course-requirements-undergraduate" class="level3">
<h3 class="anchored" data-anchor-id="course-requirements-undergraduate">Course Requirements: Undergraduate</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Assignment</th>
<th>Weight</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>✓ Homeworks (x 10)</td>
<td>50%</td>
<td>formative</td>
</tr>
<tr class="even">
<td>✓ Midterm Exam</td>
<td>25%</td>
<td>formative</td>
</tr>
<tr class="odd">
<td>✓ Final Exam (5-3; 8:00 am - 10:00 am)</td>
<td>25%</td>
<td>summative</td>
</tr>
</tbody>
</table>
</section>
<section id="course-requirements-graduatehonors" class="level3">
<h3 class="anchored" data-anchor-id="course-requirements-graduatehonors">Course Requirements: Graduate/Honors</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Assignment</th>
<th>Weight</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>✓ Homeworks (x10)</td>
<td>40%</td>
<td>formative</td>
</tr>
<tr class="even">
<td>✓ Midterm Exam</td>
<td>10%</td>
<td>formative</td>
</tr>
<tr class="odd">
<td>✓ Final Exam</td>
<td>10%</td>
<td>summative</td>
</tr>
<tr class="even">
<td>✓ Final Paper</td>
<td>20%</td>
<td>summative</td>
</tr>
<tr class="odd">
<td>✓ Presentation</td>
<td>20%</td>
<td>summative</td>
</tr>
</tbody>
</table>
<p>Homework Information</p>
<ul>
<li>Homework sheets will be available for download from (or completion on) canvas.</li>
<li>Completed homeworks should be uploaded to canvas.</li>
<li>Please, please, please do not hand in sideways photographs of hand-written work.</li>
<li>If you must hand-write, please don’t. If you do it any way, be a mensch and use a proper scanner or figure out how to get the paper to me by the due date.</li>
</ul>
</section>
</section>
<section id="tentative-course-schedule-readings" class="level2">
<h2 class="anchored" data-anchor-id="tentative-course-schedule-readings">Tentative Course Schedule &amp; Readings</h2>
<p>By taking this course you agree to complete all assigned readings prior to coming to class.</p>
<section id="week-0-optional-background-before-we-start" class="level3">
<h3 class="anchored" data-anchor-id="week-0-optional-background-before-we-start">Week 0: Optional background before we start</h3>
<p>Preliminaries 1: What is a word? <a href="https://ecampusontario.pressbooks.pub/essentialsoflinguistics/part/chapter-6-word-forms/">EoL Chapter 6</a></p>
<p>Preliminaries 2: Combining Words - <a href="https://ecampusontario.pressbooks.pub/essentialsoflinguistics/part/chapter-7-combining-words/">EoL Chapter 7</a> &amp; <a href="https://ecampusontario.pressbooks.pub/essentialsoflinguistics/part/chapter-8-forming-sentences/">EoL Chapter 8</a></p>
</section>
<section id="week-1-context-free-grammars" class="level3">
<h3 class="anchored" data-anchor-id="week-1-context-free-grammars">Week 1: Context Free Grammars</h3>
<p>8-23: Phrase Structure - Chomsky 1957 (on Canvas), pp 11-33</p>
<p>8-25: The Goals of a Linguistic Theory - Chomsky 1957 (on Canvas), pp 34-60</p>
</section>
<section id="week-2-collaborative-grammar-writing" class="level3">
<h3 class="anchored" data-anchor-id="week-2-collaborative-grammar-writing">Week 2: Collaborative Grammar Writing</h3>
<p>8-30: Collaborative Grammar Writing (bring a computer if you have one)</p>
<p>9-1: Collaborative Grammar Writing (bring a computer if you have one)</p>
</section>
<section id="week-3-functionalist-and-generative-approaches" class="level3">
<h3 class="anchored" data-anchor-id="week-3-functionalist-and-generative-approaches">Week 3: Functionalist and Generative Approaches</h3>
<p>9-6: Functionalist Introduction - Payne, chapter 1</p>
<p>9-8: Generative Introduction - Carnie, chapter 1</p>
</section>
<section id="week-4-other-viewpoints" class="level3">
<h3 class="anchored" data-anchor-id="week-4-other-viewpoints">Week 4: Other viewpoints</h3>
<p>9-13: Introduction - Probabilistic Syntax, Chris D. Manning</p>
<p>9-15: INtroduction - Exemplar-Based Syntax: How to Get Productivity from Examples, Rens Bod</p>
</section>
<section id="week-5-lexical-classes" class="level3">
<h3 class="anchored" data-anchor-id="week-5-lexical-classes">Week 5: Lexical Classes</h3>
<p>9-20: Let’s call them “Lexical Classes” rather than the ableist “Parts of Speech” : Carnie, chapter 2</p>
<p>9-22: Payne calls them “Word Classes” : Payne, chapter 4</p>
</section>
<section id="week-6-constituent-structure" class="level3">
<h3 class="anchored" data-anchor-id="week-6-constituent-structure">Week 6: Constituent Structure</h3>
<p>9-27: Constituency - Payne, chapter 6</p>
<p>9-29: Phrase Structure Rules - Carnie, chapter 3</p>
</section>
<section id="week-7-language-typology" class="level3">
<h3 class="anchored" data-anchor-id="week-7-language-typology">Week 7: Language Typology &amp;</h3>
<p>10-4: Language Typology - Payne, chapter 7</p>
<p>10-6: Word Order</p>
</section>
<section id="week-8-grammatical-relations" class="level3">
<h3 class="anchored" data-anchor-id="week-8-grammatical-relations">Week 8: Grammatical Relations</h3>
<p>10-11: Grammatical Relations - Payne, chapter 8 pp 210 - 220</p>
<p>10-13: Split Systems - Payne, chapter 8 pp 221 - 229 Week 8: Voice &amp; Valence</p>
</section>
<section id="week-9-functionalism-summary-midterm" class="level3">
<h3 class="anchored" data-anchor-id="week-9-functionalism-summary-midterm">Week 9: Functionalism summary &amp; Midterm</h3>
<p>10-18: Voice &amp; Valence (Functionalism) - Payne, chapter 9</p>
<p>10-20: MIDTERM (on canvas, open book &amp; open notes)</p>
</section>
<section id="week-10-okay-now-do-generativism" class="level3">
<h3 class="anchored" data-anchor-id="week-10-okay-now-do-generativism">Week 10: Okay, now do Generativism!</h3>
<p>10-25: Fall Break (no class)</p>
<p>10-27: Generative Syntax: Structural Relations (Carnie, Chapter 4)</p>
</section>
<section id="week-11-binding" class="level3">
<h3 class="anchored" data-anchor-id="week-11-binding">Week 11: Binding</h3>
<p>11-1: Binding Theory - Carnie, Chapter 5</p>
<p>11-3: Binding (cont.)</p>
</section>
<section id="week-12-the-base" class="level3">
<h3 class="anchored" data-anchor-id="week-12-the-base">Week 12: The Base</h3>
<p>11-8: X-bar Theory - Carnie, chapter 6</p>
<p>11-10: Extending X-bar - Carnie, chapter 7</p>
</section>
<section id="week-13-voice-valence-generative" class="level3">
<h3 class="anchored" data-anchor-id="week-13-voice-valence-generative">Week 13: Voice &amp; Valence (Generative)</h3>
<p>11-15: Theta Theory - Carnie, chapter 8</p>
<p>11-17: Auxiliaries &amp; Functional Categories - Carnie, chapter 9</p>
</section>
<section id="week-14-movement" class="level3">
<h3 class="anchored" data-anchor-id="week-14-movement">Week 14: Movement</h3>
<p>11-22: Head-to-Head Movement - Carnie, chapter 10</p>
<p>11-24: Thanksgiving Break (no class)</p>
</section>
<section id="week-15-movement-cont." class="level3">
<h3 class="anchored" data-anchor-id="week-15-movement-cont.">Week 15: Movement (cont.)</h3>
<p>11-29: DP Movement - Carnie, chapter 11</p>
<p>12-1: WH Movement - Carnie, chapter 12 (optional, chapter 13)</p>
</section>
<section id="week-16-conclusions" class="level3">
<h3 class="anchored" data-anchor-id="week-16-conclusions">Week 16: Conclusions?</h3>
<p>12-6: Expanded VPs (or, what on earth do we do with a ditransitive verb in X-Bar theory?!) - Carnie, chapter 14</p>
</section>
<section id="final-exam" class="level3">
<h3 class="anchored" data-anchor-id="final-exam">Final Exam</h3>
<p>12-13: 8:00 am - 10:00 am</p>
</section>
<section id="grades-due" class="level3">
<h3 class="anchored" data-anchor-id="grades-due">Grades Due:</h3>
<p>12-16: by 10:00 am</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/vowel\.space");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>